<p id="notice"><%= notice %></p>

<h1>user show page</h1>

<p>
  <strong>Name:</strong>
  <%= @user.name %>
</p>

<p>
  <strong>Email:</strong>
  <%= @user.email %>
</p>

<!-- <p>
  <strong>Role:</strong>
  <%#= @user.role %>
</p> -->

<p>
  <strong>Username:</strong>
  <%= @user.user_name %>
</p>

<!-- SHOW USER'S REVIEWS - modify wording based on owner of profile -->
<% if @user.reviews.length == 0 %>

    <% if (current_user.email == @user.email) %>
      <h2>You have not reviewed any businesses.</h2>
    <% else %>
      <h2> <%= @user.user_name %> has not reviewed any businesses.</h2>
    <% end %>

  <% elsif @user.reviews.length == 1 %>

    <% if (current_user.email == @user.email) %>
      <h2>You have reviewed <%= @user.reviews.length %> business:</h2>
    <% else %>
      <h2> <%= @user.user_name %> has reviewed <%= @user.reviews.length %> business:</h2>
    <% end %>

  <% else %>

    <% if (current_user.email == @user.email) %>
      <h2>You have reviewed <%= @user.reviews.length %> businesses:</h2>
    <% else %>
      <h2> <%= @user.user_name %> has reviewed <%= @user.reviews.length %> businesses:</h2>
    <% end %>

  <% end %>

  <% @user.reviews.each do |review| %>
    <h2><%=link_to review.business.name, review.business %></h2>
    <h4><%= review.content %></h4>

    <!-- THIS DELETE LINK DOES NOT WORK PROPERLY YET -->
    <%#= link_to 'Delete review', review, method: :delete, data: { confirm: 'Are you sure?' } %></p>
    <p>You'll want to eventually include more info about these businesses, maybe a photo.</p> 
  <% end %>

<!-- SHOW USER'S PHOTOS - modify wording based on owner of profile -->
<% if @user.photos.length == 0 %>

   <% if (current_user.email == @user.email) %>
      <h2>You have not uploaded any photos.</h2>
    <% else %>
      <h2> <%= @user.user_name %> has not uploaded any photos.</h2>
    <% end %>

  <% elsif @user.photos.length == 1 %>

    <% if (current_user.email == @user.email) %>
      <h2>You have uploaded <%= @user.photos.length %> photo:</h2>
    <% else %>
      <h2> <%= @user.user_name %> has uploaded <%= @user.photos.length %> photo:</h2>
    <% end %>

  <% else %>

    <% if (current_user.email == @user.email) %>
      <h2>You have uploaded <%= @user.photos.length %> photos:</h2>
    <% else %>
      <h2> <%= @user.user_name %> has uploaded <%= @user.photos.length %> photos:</h2>
    <% end %>

<% end %>

  <% @user.photos.each do |photo| %>
    <%= link_to photo.business.name, photo.business %>
    <%= photo.description %>
    <%= image_tag photo.business_photo, height: 200 %>

    <!-- THIS DELETE LINK DOES NOT WORK PROPERLY YET -->
    <%#= link_to 'Delete photo', photo, method: :delete, data: { confirm: 'Are you sure?' } %></p>
    <p>You'll want to eventually include more info about these businesses, maybe a photo.</p> 
  <% end %>

<!-- include businesses, etc. -->
<br>
<%= link_to 'Edit Profile', edit_user_path(@user) %> |
<%#= link_to "Settings", edit_user_path %>